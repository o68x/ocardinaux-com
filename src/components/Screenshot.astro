---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

export interface Props {
  src: ImageMetadata;
  alt: string;
  class?: string;
}

const { src, alt, class: className } = Astro.props;

const filename = src.src.split("/").pop();
const filenameWithoutExtension = filename?.split(".")[0];
---

<div class:list={[className, "screenshot"]} id={filenameWithoutExtension} data-img="screenshot">
  <Image src={src} alt={alt} style=`aspect-ratio: ${src.width / src.height};`>
</div>

<style>
  .screenshot {
    overflow: clip;
    background-color: var(--color-light-bone);

    & > img {
      /* width: 100%; */
      height: auto;
      transform: rotate3d(1, 1, 2, -12deg) scale(0.75);
      transition: all 0.3s ease;
      object-fit: contain;
    }

    &:hover > img {
      transform: rotate3d(0, 0, 0, 0) scale(1);
    }
  }
</style>
