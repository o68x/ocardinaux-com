---
import { getCollection } from "astro:content";
import { Image, getImage } from "astro:assets";
import "swiper/css";
import "swiper/css/navigation";

const screenshots = await getCollection("screenshots");
import Screenshot from "./Screenshot.astro";
interface Props {
  class?: string
}

const { class: className } = Astro.props;

console.log(screenshots);

---
<div class="swiper">
  <div class="swiper-wrapper">
    {screenshots.map((screenshot) => (
      <Screenshot
        src={screenshot.data.src}
        url={screenshot.data.url}
        alt={screenshot.data.alt || ""}
        backside={screenshot.data.backside || ""
        }
      />
    ))}
  </div>
  <div class="swiper-navigation">
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</div>

<style>

  .swiper {
    --swiper-theme-color: var(--color-fern);
    --swiper-navigation-size: var(--s-1);

    width: 100%;
    height: 100%;
    max-width: none;
    background-color: var(--color-light-bone);
    padding-block: var(--s2) var(--s1);
  }

  .swiper-navigation {
    display: flex;
    justify-content: end;
    gap: var(--s0);
    align-items: center;
    padding-block-start: var(--s1);
    padding-inline: var(--s2);
  }

  .swiper-button-prev,
  .swiper-button-next {
    position:unset;
    width: var(--s2);
    height: var(--s2);
    border: 1px solid var(--color-fern);
    border-radius: 50%;

    &:hover {
      background-color: var(--color-bone);
    }
  }
</style>

<script>
import Swiper from "swiper";
import { Navigation } from "swiper/modules";
const swiper = new Swiper(".swiper", {
  modules: [Navigation],
  slidesPerView: "auto",
  spaceBetween: 0,
  loop: true,
  navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
  },
});
</script>
